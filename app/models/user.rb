class User < TwitterAuth::GenericUser

  has_many :spoilers
  
  def timeline
    
    if RAILS_ENV == "production"
      twitter.get("/statuses/home_timeline.json")
    else
      ## test data so I don't keep pulling from twitter
      [{"created_at"=>"Thu Dec 17 23:27:39 +0000 2009", "favorited"=>false, "truncated"=>false, "text"=>"One of Lilian's new favorite games is saying, \"mmmmm\" when she eats. I'd be more flattered if she actually ate more.", "id"=>6778094102, "geo"=>nil, "in_reply_to_user_id"=>nil, "in_reply_to_screen_name"=>nil, "user"=>{"name"=>"traceracer", "profile_sidebar_border_color"=>"DFDFDF", "profile_sidebar_fill_color"=>"F3F3F3", "profile_background_tile"=>false, "created_at"=>"Sun Aug 17 11:30:24 +0000 2008", "location"=>"Baltimore", "profile_image_url"=>"http://a3.twimg.com/profile_images/556175797/11copy_normal.jpg", "profile_link_color"=>"990000", "url"=>nil, "favourites_count"=>1, "utc_offset"=>-18000, "id"=>15881193, "profile_text_color"=>"333333", "protected"=>true, "followers_count"=>95, "geo_enabled"=>false, "time_zone"=>"Eastern Time (US & Canada)", "notifications"=>false, "verified"=>false, "profile_background_color"=>"EBEBEB", "description"=>"", "statuses_count"=>977, "friends_count"=>80, "profile_background_image_url"=>"http://s.twimg.com/a/1261078355/images/themes/theme7/bg.gif", "screen_name"=>"traceracer", "following"=>true}, "source"=>"<a href=\"http://m.twitter.com/\" rel=\"nofollow\">mobile web</a>", "in_reply_to_status_id"=>nil}, {"created_at"=>"Thu Dec 17 23:22:33 +0000 2009", "favorited"=>false, "truncated"=>false, "text"=>"Why do people get so mad when your baby smells like beer? Maybe it's just her shampoo, or I spilled some on her.", "id"=>6777959999, "geo"=>nil, "in_reply_to_user_id"=>nil, "in_reply_to_screen_name"=>nil, "user"=>{"name"=>"drewtoothpaste", "profile_sidebar_border_color"=>"64b377", "profile_sidebar_fill_color"=>"6cd470", "profile_background_tile"=>false, "created_at"=>"Sat Mar 29 02:33:11 +0000 2008", "location"=>"columbus, OH", "profile_image_url"=>"http://a3.twimg.com/profile_images/57937961/Photo_13_normal.jpg", "profile_link_color"=>"08269e", "favourites_count"=>0, "url"=>"http://toothpastefordinner.com", "utc_offset"=>-18000, "id"=>14248784, "profile_text_color"=>"100d09", "protected"=>false, "followers_count"=>12637, "geo_enabled"=>false, "verified"=>false, "time_zone"=>"Eastern Time (US & Canada)", "profile_background_color"=>"c1e6c1", "notifications"=>false, "description"=>"Author of Toothpaste For Dinner, Married To The Sea, Super Poop. Dot com.", "friends_count"=>29, "statuses_count"=>456, "profile_background_image_url"=>"http://a3.twimg.com/profile_background_images/37736429/twitter-bg-jul09-2.jpg", "screen_name"=>"drewtoothpaste", "following"=>false}, "source"=>"web", "in_reply_to_status_id"=>nil}, {"created_at"=>"Thu Dec 17 23:21:24 +0000 2009", "favorited"=>false, "truncated"=>false, "text"=>"RT @defunkt: My favorite open source releases of 2009: http://ozmm.org/posts/2009_open_source_top_ten.html", "id"=>6777928806, "geo"=>nil, "in_reply_to_user_id"=>nil, "in_reply_to_screen_name"=>nil, "user"=>{"name"=>"Ryan Bates", "profile_sidebar_border_color"=>"b3b3b3", "profile_sidebar_fill_color"=>"f2f2f2", "profile_background_tile"=>false, "created_at"=>"Fri Mar 28 19:10:25 +0000 2008", "location"=>"Southern Oregon", "profile_image_url"=>"http://a1.twimg.com/profile_images/52189024/ryan_bates_cropped_normal.jpg", "profile_link_color"=>"1c95c4", "favourites_count"=>51, "url"=>"http://railscasts.com", "utc_offset"=>-28800, "id"=>14246143, "profile_text_color"=>"000000", "protected"=>false, "followers_count"=>3584, "geo_enabled"=>false, "verified"=>false, "notifications"=>false, "time_zone"=>"Pacific Time (US & Canada)", "profile_background_color"=>"C6E2EE", "description"=>"Producer of Railscasts - Free Ruby on Rails Screencasts", "friends_count"=>234, "statuses_count"=>2701, "profile_background_image_url"=>"http://s.twimg.com/a/1259890793/images/themes/theme2/bg.gif", "screen_name"=>"rbates", "following"=>false}, "source"=>"<a href=\"http://www.atebits.com/\" rel=\"nofollow\">Tweetie</a>", "in_reply_to_status_id"=>nil}, {"created_at"=>"Thu Dec 17 22:51:11 +0000 2009", "favorited"=>false, "truncated"=>false, "text"=>"http://is.gd/5rLPp This (lady) guy looks like a John Kovalic drawing, is immune to pain, and doesn't need much oxygen. Pretty awesome!", "id"=>6777153567, "geo"=>nil, "in_reply_to_user_id"=>nil, "in_reply_to_screen_name"=>nil, "user"=>{"name"=>"ignignokt_", "profile_sidebar_border_color"=>"BDDCAD", "profile_sidebar_fill_color"=>"DDFFCC", "profile_background_tile"=>false, "created_at"=>"Wed Mar 12 04:09:51 +0000 2008", "location"=>"Somerville, MA, USA", "profile_image_url"=>"http://a3.twimg.com/profile_images/52796589/boss_crocomire_sm_normal.gif", "profile_link_color"=>"0084B4", "url"=>"http://chaos.corrupt.net", "favourites_count"=>3, "utc_offset"=>-18000, "id"=>14129926, "profile_text_color"=>"333333", "followers_count"=>68, "protected"=>true, "geo_enabled"=>false, "time_zone"=>"Eastern Time (US & Canada)", "profile_background_color"=>"ffffff", "verified"=>false, "notifications"=>false, "description"=>"", "friends_count"=>98, "statuses_count"=>5269, "profile_background_image_url"=>"http://s.twimg.com/a/1260817727/images/themes/theme1/bg.png", "screen_name"=>"ignignokt_", "following"=>false}, "source"=>"<a href=\"http://phalangesoftware.com/attneveryone\" rel=\"nofollow\">attneveryone</a>", "in_reply_to_status_id"=>nil}, {"created_at"=>"Thu Dec 17 22:37:33 +0000 2009", "favorited"=>false, "truncated"=>false, "text"=>"RT @PA_Megacorp: Penny Arcade: The Series (Ep 3) hits tomorrow on PATV! (www.penny-arcade.com/patv/)", "id"=>6776822079, "geo"=>nil, "in_reply_to_user_id"=>nil, "in_reply_to_screen_name"=>nil, "user"=>{"name"=>"cwgabriel", "profile_sidebar_border_color"=>"829D5E", "profile_sidebar_fill_color"=>"99CC33", "profile_background_tile"=>false, "created_at"=>"Mon Apr 21 17:18:28 +0000 2008", "location"=>"iPhone: 44.925713,-124.018112", "profile_image_url"=>"http://a3.twimg.com/profile_images/53101189/gabe_head_normal.jpg", "profile_link_color"=>"D02B55", "favourites_count"=>0, "url"=>nil, "utc_offset"=>-28800, "id"=>14464369, "profile_text_color"=>"3E4415", "protected"=>false, "followers_count"=>37149, "geo_enabled"=>false, "verified"=>false, "notifications"=>false, "time_zone"=>"Pacific Time (US & Canada)", "profile_background_color"=>"352726", "description"=>nil, "friends_count"=>24, "statuses_count"=>785, "profile_background_image_url"=>"http://s.twimg.com/a/1261005104/images/themes/theme5/bg.gif", "screen_name"=>"cwgabriel", "following"=>true}, "source"=>"<a href=\"http://www.tweetdeck.com/\" rel=\"nofollow\">TweetDeck</a>", "in_reply_to_status_id"=>nil}, {"created_at"=>"Thu Dec 17 21:34:33 +0000 2009", "favorited"=>false, "truncated"=>false, "text"=>"Less than 10 days before Christmas and I still haven't heard the Chipmunks. Much sadness. I guess I have to actually buy that album.", "id"=>6775152794, "geo"=>nil, "in_reply_to_user_id"=>nil, "in_reply_to_screen_name"=>nil, "user"=>{"name"=>"Amanda C. Peterson", "profile_sidebar_border_color"=>"000000", "profile_sidebar_fill_color"=>"8B8B8B", "profile_background_tile"=>false, "created_at"=>"Fri Apr 20 19:42:56 +0000 2007", "location"=>"San Francisco, CA", "profile_image_url"=>"http://a1.twimg.com/profile_images/17617422/75653373_53b1cef379_normal.jpg", "profile_link_color"=>"5E15BA", "favourites_count"=>9, "url"=>"http://gucky.guck.net", "utc_offset"=>-28800, "id"=>5353362, "followers_count"=>107, "protected"=>false, "profile_text_color"=>"000000", "geo_enabled"=>false, "time_zone"=>"Pacific Time (US & Canada)", "profile_background_color"=>"70BA15", "notifications"=>false, "description"=>"I am very gucky", "verified"=>false, "statuses_count"=>664, "friends_count"=>92, "profile_background_image_url"=>"http://s.twimg.com/a/1260907633/images/themes/theme1/bg.png", "screen_name"=>"gucky", "following"=>true}, "source"=>"<a href=\"http://www.seesmic.com/\" rel=\"nofollow\">Seesmic</a>", "in_reply_to_status_id"=>nil}, {"created_at"=>"Thu Dec 17 20:44:36 +0000 2009", "favorited"=>false, "truncated"=>false, "text"=>"RT @rdonoghue I take this moment to hate textbook pricing. Ebooks will be a lie until this monster is slain.", "id"=>6773805801, "geo"=>nil, "in_reply_to_user_id"=>nil, "in_reply_to_screen_name"=>nil, "user"=>{"name"=>"snidegrrl", "profile_sidebar_border_color"=>"6C1C00", "profile_sidebar_fill_color"=>"F8E78A", "profile_background_tile"=>true, "created_at"=>"Mon Aug 06 14:35:17 +0000 2007", "location"=>"Laurel, MD", "profile_image_url"=>"http://a1.twimg.com/profile_images/60372284/iconworthy_normal.jpg", "profile_link_color"=>"A100FF", "favourites_count"=>63, "url"=>"http://www.prosaicparadise.com/", "utc_offset"=>-18000, "id"=>7993742, "protected"=>false, "followers_count"=>339, "profile_text_color"=>"6C1C00", "verified"=>false, "geo_enabled"=>false, "time_zone"=>"Quito", "notifications"=>false, "profile_background_color"=>"C4FDD7", "description"=>"I'm a non-techie techie who drums and wants to help people.", "friends_count"=>263, "statuses_count"=>3892, "profile_background_image_url"=>"http://a1.twimg.com/profile_background_images/385492/wallpaper-trick.jpg", "screen_name"=>"snidegrrl", "following"=>false}, "source"=>"<a href=\"http://www.stone.com/Twittelator\" rel=\"nofollow\">Twittelator</a>", "in_reply_to_status_id"=>nil}, {"created_at"=>"Thu Dec 17 19:47:38 +0000 2009", "favorited"=>false, "truncated"=>false, "text"=>"Added common-case accessors for alert and notice in the flash and allow them to be set from redirect_to: http://bit.ly/86B4fH", "id"=>6772333553, "geo"=>nil, "in_reply_to_user_id"=>nil, "in_reply_to_screen_name"=>nil, "user"=>{"name"=>"DHH", "profile_sidebar_border_color"=>"87bc44", "profile_sidebar_fill_color"=>"e0ff92", "profile_background_tile"=>false, "created_at"=>"Sun Apr 27 20:19:25 +0000 2008", "location"=>"Chicago, USA", "profile_image_url"=>"http://a1.twimg.com/profile_images/67881828/headshot64_normal.jpg", "profile_link_color"=>"0000ff", "favourites_count"=>1, "url"=>"http://www.loudthinking.com", "utc_offset"=>-21600, "id"=>14561327, "protected"=>false, "followers_count"=>15945, "profile_text_color"=>"000000", "verified"=>false, "geo_enabled"=>false, "time_zone"=>"Central Time (US & Canada)", "notifications"=>nil, "profile_background_color"=>"9ae4e8", "description"=>"Creator of Ruby on Rails, Partner at 37signals", "friends_count"=>48, "statuses_count"=>808, "profile_background_image_url"=>"http://s.twimg.com/a/1259882278/images/themes/theme1/bg.png", "screen_name"=>"dhh", "following"=>nil}, "source"=>"<a href=\"http://www.atebits.com/\" rel=\"nofollow\">Tweetie</a>", "in_reply_to_status_id"=>nil}, {"created_at"=>"Thu Dec 17 19:27:49 +0000 2009", "favorited"=>false, "truncated"=>false, "text"=>"Y'all know what that means: Toilet Paper Battle Stations! Milk & bread, ho! #snowpanic", "id"=>6771845345, "geo"=>nil, "in_reply_to_user_id"=>nil, "in_reply_to_screen_name"=>nil, "user"=>{"name"=>"examorata", "profile_sidebar_border_color"=>"87bc44", "profile_sidebar_fill_color"=>"e0ff92", "profile_background_tile"=>false, "created_at"=>"Thu Sep 11 16:09:11 +0000 2008", "location"=>"Columbia, MD", "profile_image_url"=>"http://a1.twimg.com/profile_images/421320658/406177_normal.jpg", "profile_link_color"=>"0000ff", "url"=>nil, "favourites_count"=>3, "utc_offset"=>-18000, "id"=>16242727, "protected"=>false, "followers_count"=>301, "profile_text_color"=>"000000", "geo_enabled"=>false, "time_zone"=>"Eastern Time (US & Canada)", "profile_background_color"=>"F2D0FD", "notifications"=>false, "verified"=>false, "description"=>"Loquacious. Trepidatious. Sesquipedalian.", "statuses_count"=>4381, "friends_count"=>428, "profile_background_image_url"=>"http://a3.twimg.com/profile_background_images/37744337/000gbapb.jpg", "screen_name"=>"examorata", "following"=>false}, "source"=>"<a href=\"http://echofon.com/\" rel=\"nofollow\">Echofon</a>", "in_reply_to_status_id"=>nil}, {"created_at"=>"Thu Dec 17 19:27:12 +0000 2009", "favorited"=>false, "truncated"=>false, "text"=>"Locals: they're makin' the snow official. NWS issues Winter Storm Watch. http://tinyurl.com/ykck65z", "id"=>6771830617, "geo"=>nil, "in_reply_to_user_id"=>nil, "in_reply_to_screen_name"=>nil, "user"=>{"name"=>"examorata", "profile_sidebar_border_color"=>"87bc44", "profile_sidebar_fill_color"=>"e0ff92", "profile_background_tile"=>false, "created_at"=>"Thu Sep 11 16:09:11 +0000 2008", "location"=>"Columbia, MD", "profile_image_url"=>"http://a1.twimg.com/profile_images/421320658/406177_normal.jpg", "profile_link_color"=>"0000ff", "favourites_count"=>3, "url"=>nil, "utc_offset"=>-18000, "id"=>16242727, "protected"=>false, "followers_count"=>301, "profile_text_color"=>"000000", "notifications"=>false, "geo_enabled"=>false, "time_zone"=>"Eastern Time (US & Canada)", "profile_background_color"=>"F2D0FD", "description"=>"Loquacious. Trepidatious. Sesquipedalian.", "verified"=>false, "friends_count"=>428, "statuses_count"=>4380, "profile_background_image_url"=>"http://a3.twimg.com/profile_background_images/37744337/000gbapb.jpg", "screen_name"=>"examorata", "following"=>false}, "source"=>"<a href=\"http://echofon.com/\" rel=\"nofollow\">Echofon</a>", "in_reply_to_status_id"=>nil}, {"created_at"=>"Thu Dec 17 19:23:14 +0000 2009", "favorited"=>false, "truncated"=>false, "text"=>"I'm getting sooo hungry! 40 mins til lunch", "id"=>6771734003, "geo"=>nil, "in_reply_to_user_id"=>nil, "in_reply_to_screen_name"=>nil, "user"=>{"name"=>"Cindy Wong", "profile_sidebar_border_color"=>"C6E2EE", "profile_sidebar_fill_color"=>"DAECF4", "profile_background_tile"=>false, "created_at"=>"Mon Mar 30 19:14:13 +0000 2009", "location"=>"909", "profile_image_url"=>"http://a1.twimg.com/profile_images/515601936/3Apples_normal.jpg", "profile_link_color"=>"1F98C7", "favourites_count"=>0, "url"=>nil, "utc_offset"=>-28800, "id"=>27706434, "protected"=>false, "followers_count"=>48, "profile_text_color"=>"663B12", "notifications"=>false, "geo_enabled"=>false, "time_zone"=>"Pacific Time (US & Canada)", "profile_background_color"=>"C6E2EE", "description"=>"", "verified"=>false, "friends_count"=>143, "statuses_count"=>339, "profile_background_image_url"=>"http://s.twimg.com/a/1261005104/images/themes/theme2/bg.gif", "screen_name"=>"soycube", "following"=>true}, "source"=>"<a href=\"http://m.twitter.com/\" rel=\"nofollow\">mobile web</a>", "in_reply_to_status_id"=>nil}, {"created_at"=>"Thu Dec 17 19:10:26 +0000 2009", "favorited"=>false, "truncated"=>false, "text"=>"Who says I can't jump on the best-songs-of-the-year bandwagon? New post: http://www.examorata.com/?p=94", "id"=>6771428710, "geo"=>nil, "in_reply_to_user_id"=>nil, "in_reply_to_screen_name"=>nil, "user"=>{"name"=>"examorata", "profile_sidebar_border_color"=>"87bc44", "profile_sidebar_fill_color"=>"e0ff92", "profile_background_tile"=>false, "created_at"=>"Thu Sep 11 16:09:11 +0000 2008", "location"=>"Columbia, MD", "profile_image_url"=>"http://a1.twimg.com/profile_images/421320658/406177_normal.jpg", "profile_link_color"=>"0000ff", "url"=>nil, "favourites_count"=>3, "utc_offset"=>-18000, "id"=>16242727, "protected"=>false, "followers_count"=>301, "profile_text_color"=>"000000", "geo_enabled"=>false, "time_zone"=>"Eastern Time (US & Canada)", "profile_background_color"=>"F2D0FD", "notifications"=>false, "verified"=>false, "description"=>"Loquacious. Trepidatious. Sesquipedalian.", "statuses_count"=>4379, "friends_count"=>428, "profile_background_image_url"=>"http://a3.twimg.com/profile_background_images/37744337/000gbapb.jpg", "screen_name"=>"examorata", "following"=>false}, "source"=>"<a href=\"http://echofon.com/\" rel=\"nofollow\">Echofon</a>", "in_reply_to_status_id"=>nil}, {"created_at"=>"Thu Dec 17 19:10:08 +0000 2009", "favorited"=>false, "truncated"=>false, "text"=>"@jwiv http://www.theonion.com/content/video/wildly_popular_iron_man_trailer?utm_source=onion_rss_daily", "id"=>6771421233, "geo"=>nil, "in_reply_to_user_id"=>14292072, "in_reply_to_screen_name"=>"jwiv", "user"=>{"name"=>"traceracer", "profile_sidebar_border_color"=>"DFDFDF", "profile_sidebar_fill_color"=>"F3F3F3", "profile_background_tile"=>false, "created_at"=>"Sun Aug 17 11:30:24 +0000 2008", "location"=>"Baltimore", "profile_image_url"=>"http://a3.twimg.com/profile_images/556175797/11copy_normal.jpg", "profile_link_color"=>"990000", "favourites_count"=>1, "url"=>nil, "utc_offset"=>-18000, "id"=>15881193, "protected"=>true, "followers_count"=>95, "profile_text_color"=>"333333", "verified"=>false, "geo_enabled"=>false, "time_zone"=>"Eastern Time (US & Canada)", "notifications"=>false, "profile_background_color"=>"EBEBEB", "description"=>"", "friends_count"=>80, "statuses_count"=>976, "profile_background_image_url"=>"http://s.twimg.com/a/1260907633/images/themes/theme7/bg.gif", "screen_name"=>"traceracer", "following"=>false}, "source"=>"<a href=\"http://echofon.com/\" rel=\"nofollow\">Echofon</a>", "in_reply_to_status_id"=>6770811649}, {"created_at"=>"Thu Dec 17 18:47:22 +0000 2009", "favorited"=>false, "truncated"=>false, "text"=>"@traceracer One day she will become a surgeon so brilliant she only needs to use one hand!", "id"=>6770894560, "geo"=>nil, "in_reply_to_user_id"=>15881193, "in_reply_to_screen_name"=>"traceracer", "user"=>{"name"=>"examorata", "profile_sidebar_border_color"=>"87bc44", "profile_sidebar_fill_color"=>"e0ff92", "profile_background_tile"=>false, "created_at"=>"Thu Sep 11 16:09:11 +0000 2008", "location"=>"Columbia, MD", "profile_image_url"=>"http://a1.twimg.com/profile_images/421320658/406177_normal.jpg", "profile_link_color"=>"0000ff", "url"=>nil, "favourites_count"=>3, "utc_offset"=>-18000, "id"=>16242727, "protected"=>false, "followers_count"=>301, "profile_text_color"=>"000000", "geo_enabled"=>false, "time_zone"=>"Eastern Time (US & Canada)", "profile_background_color"=>"F2D0FD", "notifications"=>false, "verified"=>false, "description"=>"Loquacious. Trepidatious. Sesquipedalian.", "statuses_count"=>4378, "friends_count"=>428, "profile_background_image_url"=>"http://a3.twimg.com/profile_background_images/37744337/000gbapb.jpg", "screen_name"=>"examorata", "following"=>false}, "source"=>"<a href=\"http://echofon.com/\" rel=\"nofollow\">Echofon</a>", "in_reply_to_status_id"=>6770650223}, {"created_at"=>"Thu Dec 17 18:43:44 +0000 2009", "favorited"=>false, "truncated"=>false, "text"=>"In happier news - Ironman 2 trailer - http://bit.ly/4pgs5I", "id"=>6770811649, "geo"=>nil, "in_reply_to_user_id"=>nil, "in_reply_to_screen_name"=>nil, "user"=>{"name"=>"jwiv", "profile_sidebar_border_color"=>"829D5E", "profile_sidebar_fill_color"=>"99CC33", "profile_background_tile"=>false, "created_at"=>"Thu Apr 03 10:16:59 +0000 2008", "location"=>"Baltimore, MD", "profile_image_url"=>"http://a1.twimg.com/profile_images/280693044/4397_90941566659_575521659_2577951_3812663_s_normal.jpg", "profile_link_color"=>"D02B55", "url"=>"http://jwiv.livejournal.com", "favourites_count"=>0, "utc_offset"=>-18000, "id"=>14292072, "protected"=>false, "followers_count"=>119, "profile_text_color"=>"3E4415", "geo_enabled"=>false, "time_zone"=>"Eastern Time (US & Canada)", "verified"=>false, "notifications"=>false, "profile_background_color"=>"352726", "description"=>"Husband and father. Network engineer.  Grognard tendancies.  ", "friends_count"=>142, "statuses_count"=>1868, "profile_background_image_url"=>"http://s.twimg.com/a/1260907633/images/themes/theme5/bg.gif", "screen_name"=>"jwiv", "following"=>true}, "source"=>"<a href=\"http://www.tweetdeck.com/\" rel=\"nofollow\">TweetDeck</a>", "in_reply_to_status_id"=>nil}, {"created_at"=>"Thu Dec 17 18:39:26 +0000 2009", "favorited"=>false, "truncated"=>false, "text"=>"grilled turkey and cheese with spinach covertly stuffed between layers. Mama is tricksie.", "id"=>6770712732, "geo"=>nil, "in_reply_to_user_id"=>nil, "in_reply_to_screen_name"=>nil, "user"=>{"name"=>"traceracer", "profile_sidebar_border_color"=>"DFDFDF", "profile_sidebar_fill_color"=>"F3F3F3", "profile_background_tile"=>false, "created_at"=>"Sun Aug 17 11:30:24 +0000 2008", "location"=>"Baltimore", "profile_image_url"=>"http://a3.twimg.com/profile_images/556175797/11copy_normal.jpg", "profile_link_color"=>"990000", "url"=>nil, "favourites_count"=>1, "utc_offset"=>-18000, "id"=>15881193, "protected"=>true, "followers_count"=>95, "profile_text_color"=>"333333", "geo_enabled"=>false, "verified"=>false, "time_zone"=>"Eastern Time (US & Canada)", "notifications"=>true, "profile_background_color"=>"EBEBEB", "description"=>"", "friends_count"=>80, "statuses_count"=>975, "profile_background_image_url"=>"http://s.twimg.com/a/1260907633/images/themes/theme7/bg.gif", "screen_name"=>"traceracer", "following"=>true}, "source"=>"<a href=\"http://m.twitter.com/\" rel=\"nofollow\">mobile web</a>", "in_reply_to_status_id"=>nil}, {"created_at"=>"Thu Dec 17 18:36:40 +0000 2009", "favorited"=>false, "truncated"=>false, "text"=>"when imitating handwashing, Lil rubs from her forearm to her shoulder, but never the other hand. It's very cute.", "id"=>6770650223, "geo"=>nil, "in_reply_to_user_id"=>nil, "in_reply_to_screen_name"=>nil, "user"=>{"name"=>"traceracer", "profile_sidebar_border_color"=>"DFDFDF", "profile_sidebar_fill_color"=>"F3F3F3", "profile_background_tile"=>false, "created_at"=>"Sun Aug 17 11:30:24 +0000 2008", "location"=>"Baltimore", "profile_image_url"=>"http://a3.twimg.com/profile_images/556175797/11copy_normal.jpg", "profile_link_color"=>"990000", "favourites_count"=>1, "url"=>nil, "utc_offset"=>-18000, "id"=>15881193, "protected"=>true, "followers_count"=>95, "profile_text_color"=>"333333", "notifications"=>false, "geo_enabled"=>false, "time_zone"=>"Eastern Time (US & Canada)", "profile_background_color"=>"EBEBEB", "verified"=>false, "description"=>"", "friends_count"=>80, "statuses_count"=>974, "profile_background_image_url"=>"http://s.twimg.com/a/1260907633/images/themes/theme7/bg.gif", "screen_name"=>"traceracer", "following"=>true}, "source"=>"<a href=\"http://m.twitter.com/\" rel=\"nofollow\">mobile web</a>", "in_reply_to_status_id"=>nil}, {"created_at"=>"Thu Dec 17 18:31:04 +0000 2009", "favorited"=>false, "truncated"=>false, "text"=>"Unsurprising: A certain co-worker likes Jay Leno.", "id"=>6770521406, "geo"=>nil, "in_reply_to_user_id"=>nil, "in_reply_to_screen_name"=>nil, "user"=>{"name"=>"ignignokt_", "profile_sidebar_border_color"=>"BDDCAD", "profile_sidebar_fill_color"=>"DDFFCC", "profile_background_tile"=>false, "created_at"=>"Wed Mar 12 04:09:51 +0000 2008", "location"=>"Somerville, MA, USA", "profile_image_url"=>"http://a3.twimg.com/profile_images/52796589/boss_crocomire_sm_normal.gif", "profile_link_color"=>"0084B4", "favourites_count"=>3, "url"=>"http://chaos.corrupt.net", "utc_offset"=>-18000, "id"=>14129926, "protected"=>true, "followers_count"=>68, "profile_text_color"=>"333333", "verified"=>false, "geo_enabled"=>false, "time_zone"=>"Eastern Time (US & Canada)", "notifications"=>false, "profile_background_color"=>"ffffff", "description"=>"", "friends_count"=>98, "statuses_count"=>5268, "profile_background_image_url"=>"http://s.twimg.com/a/1260817727/images/themes/theme1/bg.png", "screen_name"=>"ignignokt_", "following"=>false}, "source"=>"<a href=\"http://phalangesoftware.com/attneveryone\" rel=\"nofollow\">attneveryone</a>", "in_reply_to_status_id"=>nil}, {"created_at"=>"Thu Dec 17 18:17:37 +0000 2009", "favorited"=>false, "truncated"=>false, "text"=>"I wonder if I should just start asking flat out where my bribe is when I get asked things like rescheduling my vacation.", "id"=>6770217421, "geo"=>nil, "in_reply_to_user_id"=>nil, "in_reply_to_screen_name"=>nil, "user"=>{"name"=>"jwiv", "profile_sidebar_border_color"=>"829D5E", "profile_sidebar_fill_color"=>"99CC33", "profile_background_tile"=>false, "created_at"=>"Thu Apr 03 10:16:59 +0000 2008", "location"=>"Baltimore, MD", "profile_image_url"=>"http://a1.twimg.com/profile_images/280693044/4397_90941566659_575521659_2577951_3812663_s_normal.jpg", "profile_link_color"=>"D02B55", "favourites_count"=>0, "url"=>"http://jwiv.livejournal.com", "utc_offset"=>-18000, "id"=>14292072, "protected"=>false, "followers_count"=>119, "profile_text_color"=>"3E4415", "notifications"=>nil, "geo_enabled"=>false, "time_zone"=>"Eastern Time (US & Canada)", "profile_background_color"=>"352726", "verified"=>false, "description"=>"Husband and father. Network engineer.  Grognard tendancies.  ", "friends_count"=>142, "statuses_count"=>1866, "profile_background_image_url"=>"http://s.twimg.com/a/1260907633/images/themes/theme5/bg.gif", "screen_name"=>"jwiv", "following"=>nil}, "source"=>"<a href=\"http://www.tweetdeck.com/\" rel=\"nofollow\">TweetDeck</a>", "in_reply_to_status_id"=>nil}, {"created_at"=>"Thu Dec 17 16:41:41 +0000 2009", "favorited"=>false, "truncated"=>false, "text"=>"I can't go, but east coast Genesis fans should go see The Musical Box at the Keswick in PA in January. http://tinyurl.com/ylqcflz !!!", "id"=>6768027943, "geo"=>nil, "in_reply_to_user_id"=>nil, "in_reply_to_screen_name"=>nil, "user"=>{"name"=>"snidegrrl", "profile_sidebar_border_color"=>"6C1C00", "profile_sidebar_fill_color"=>"F8E78A", "profile_background_tile"=>true, "created_at"=>"Mon Aug 06 14:35:17 +0000 2007", "location"=>"Laurel, MD", "profile_image_url"=>"http://a1.twimg.com/profile_images/60372284/iconworthy_normal.jpg", "profile_link_color"=>"A100FF", "favourites_count"=>63, "url"=>"http://www.prosaicparadise.com/", "utc_offset"=>-18000, "id"=>7993742, "protected"=>false, "followers_count"=>339, "profile_text_color"=>"6C1C00", "verified"=>false, "geo_enabled"=>false, "time_zone"=>"Quito", "notifications"=>nil, "profile_background_color"=>"C4FDD7", "description"=>"I'm a non-techie techie who drums and wants to help people.", "friends_count"=>263, "statuses_count"=>3889, "profile_background_image_url"=>"http://a1.twimg.com/profile_background_images/385492/wallpaper-trick.jpg", "screen_name"=>"snidegrrl", "following"=>nil}, "source"=>"web", "in_reply_to_status_id"=>nil}]
      
    end
  end
  
  def spoiler_free_timeline
    timeline.map do |tweet|
      if spoiler?(tweet["text"])
        Redacted.new(tweet,spoiled_on(tweet["text"]))
      else
        Tweet.new(tweet)
      end
    end
  end
  
  def get_tweet(id)
    Tweet.new(twitter.get("/statuses/show/#{id}.json"))
  end
  
  def rate_limit_status
    twitter.get("http://twitter.com/account/rate_limit_status.json")
  end
  
  def spoiler?(tweet)
    spoilers.each do |spoiler|
      return true if tweet =~ /#{spoiler.name}/i
    end
    return false
  end
  
  def spoiled_on(tweet)
    spoilers.reject {|spoiler| tweet !~ /#{spoiler.name}/i}
  end
  
  # def other_popular_tags
  #   Spoiler
  # end
  
end
